//var socket = io.connect('http://coms-319-099.cs.iastate.edu:8080/');
var socket = io.connect('localhost:8080/');

var updateBtn1 = document.getElementById("updateP1");
var player1chara = document.getElementById("p1Char");
var player1alt = document.getElementById("p1Alt");
var player2chara = document.getElementById("p2Char");
var player2alt = document.getElementById("p2Alt");

var titleBtn = document.getElementById("updateTitle");

socket.on('connect', function(data)
{
	socket.emit('join', 'Hello World from client');
});

$('#updateP1').click(function(s)
{
	s.preventDefault();
	socket.emit('player1_update',document.getElementById("p1Char").value,document.getElementById("p1Alt").value);
	var stock = document.getElementById("p1Current");
	stock.src="./updateables/stock1.png?t="+ new Date().getTime();
});

$('#updateP2').click(function(r)
{
	r.preventDefault();
	socket.emit('player2_update',document.getElementById("p2Char").value,document.getElementById("p2Alt").value);
	var stock = document.getElementById("p2Current");
	stock.src="./updateables/stock2.png?t="+ new Date().getTime();
});

$('#updateTitle').click(function(t)
{
	t.preventDefault();
	socket.emit('title_update',document.getElementById("titleName").value);
});

$('#updateP1Score').click(function(sp1)
{
	sp1.preventDefault();
	socket.emit('player1score_update',document.getElementById("p1Score").value);
});

$('#updateP2Score').click(function(sp1)
{
	sp1.preventDefault();
	socket.emit('player2score_update',document.getElementById("p2Score").value);
});

$('#updateP1Name').click(function(np1)
{
	np1.preventDefault();
	socket.emit('player1name_update',document.getElementById("p1Name").value);
});

$('#updateP2Name').click(function(np2)
{
	np2.preventDefault();
	socket.emit('player2name_update',document.getElementById("p2Name").value);
});

$('#updateInfo1').click(function(np1)
{
	np1.preventDefault();
	socket.emit('info1_update',document.getElementById("info1").value);
});

$('#updateInfo2').click(function(np2)
{
	np2.preventDefault();
	socket.emit('info2_update',document.getElementById("info2").value);
});

player1chara.onchange = function()
{
	document.getElementById("p1Preview").src="./node_modules/Stocks/chara_2_"+player1chara.value+"_0"+player1alt.value+".png";
}

player1alt.onchange = function()
{
	document.getElementById("p1Preview").src="./node_modules/Stocks/chara_2_"+player1chara.value+"_0"+player1alt.value+".png";
}

player2chara.onchange = function()
{
	document.getElementById("p2Preview").src="./node_modules/Stocks/chara_2_"+player2chara.value+"_0"+player2alt.value+".png";
}

player2alt.onchange = function()
{
	document.getElementById("p2Preview").src="./node_modules/Stocks/chara_2_"+player2chara.value+"_0"+player2alt.value+".png";
}









